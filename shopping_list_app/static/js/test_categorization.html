<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Item Categorization</title>
    <script src="main.js"></script>
</head>
<body>
    <h1>Item Categorization Tests</h1>
    <p>Check the console for test results.</p>
    <ul id="test-results"></ul>

    <script>
        console.log('Starting categorization tests...');
        const resultsList = document.getElementById('test-results');
        let testsPassed = 0;
        let testsFailed = 0;

        function runTest(itemName, expectedCategory) {
            const actualCategory = determineCategory(itemName);
            const pass = actualCategory === expectedCategory;
            const resultText = `Item: "${itemName}", Expected: "${expectedCategory}", Got: "${actualCategory}" - ${pass ? 'PASS' : 'FAIL'}`;

            console.log(resultText);
            const listItem = document.createElement('li');
            listItem.textContent = resultText;
            listItem.style.color = pass ? 'green' : 'red';
            resultsList.appendChild(listItem);

            if (pass) {
                testsPassed++;
            } else {
                testsFailed++;
            }
        }

        // --- English Test Cases ---
        runTest("Fresh Apple", "Fruits");
        runTest("Granny Smith Apples", "Fruits");
        runTest("Banana", "Fruits");
        runTest("Broccoli florets", "Vegetables");
        runTest("Potato", "Vegetables");
        runTest("Whole Milk", "Dairy");
        runTest("Cheddar Cheese", "Dairy");
        runTest("Sourdough Bread", "Bakery");
        runTest("Chicken Breast", "Meat & Poultry");
        runTest("Ground Beef", "Meat & Poultry");
        runTest("Salmon Fillet", "Fish & Seafood");
        runTest("Canned Tuna", "Fish & Seafood");
        runTest("Spaghetti Pasta", "Pantry Staples");
        runTest("Olive Oil", "Pantry Staples");
        runTest("Frozen Peas", "Frozen Foods");
        runTest("Orange Juice", "Beverages");
        runTest("Coffee Beans", "Beverages");
        runTest("Toilet Paper", "Household");
        runTest("Dish Soap", "Household");
        runTest("Unknown Gizmo", "Other");
        runTest("milk chocolate", "Pantry Staples");
        runTest("applesauce", "Fruits");
        runTest("spring onion", "Vegetables");
        runTest("canned beans", "Pantry Staples");
        runTest("frozen pizza", "Frozen Foods");
        runTest("sparkling water", "Beverages");
        runTest("laundry detergent", "Household");
        runTest("Paper towels", "Household");
        runTest("Avocado", "Fruits");

        // --- German Test Cases ---
        console.log('--- Starting German Test Cases ---');
        runTest("Apfel", "Fruits");
        runTest("Bananen", "Fruits"); // Plural
        runTest("Trauben", "Fruits"); // Grapes (plural)
        runTest("Erdbeeren", "Fruits"); // Strawberries (plural)
        runTest("Kartoffel", "Vegetables");
        runTest("Zwiebeln", "Vegetables"); // Plural
        runTest("Knoblauchzehe", "Vegetables"); // Garlic clove
        runTest("Gurkensalat", "Vegetables"); // Cucumber salad (gurke should match)
        runTest("Milch", "Dairy");
        runTest("Käse", "Dairy"); // Umlaut
        runTest("Joghurt", "Dairy");
        runTest("Brot", "Bakery");
        runTest("Brötchen", "Bakery"); // Bread rolls
        runTest("Kuchen", "Bakery"); // Cake
        runTest("Hähnchenbrust", "Meat & Poultry");
        runTest("Rindfleisch", "Meat & Poultry");
        runTest("Schweinefleisch", "Meat & Poultry"); // Pork
        runTest("Lachsfilet", "Fish & Seafood");
        runTest("Thunfischkonserve", "Fish & Seafood"); // "Thunfisch" is keyword
        runTest("Garnelen", "Fish & Seafood"); // Shrimp/Prawns
        runTest("Nudeln", "Pantry Staples"); // Plural
        runTest("Reis", "Pantry Staples");
        runTest("Mehl", "Pantry Staples"); // Flour
        runTest("Zucker", "Pantry Staples");
        runTest("Olivenöl", "Pantry Staples"); // Olive oil
        runTest("Tiefkühlpizza", "Frozen Foods"); // Compound word
        runTest("Eis", "Frozen Foods"); // Ice cream
        runTest("Tk-Gemüse", "Frozen Foods"); // Common abbreviation for Tiefkühlgemüse
        runTest("Orangensaft", "Beverages");
        runTest("Kaffee", "Beverages");
        runTest("Wasserflasche", "Beverages"); // Bottled water
        runTest("Bier", "Beverages");
        runTest("Toilettenpapier", "Household");
        runTest("Spülmittel", "Household"); // Dish soap
        runTest("Waschmittel", "Household"); // Laundry detergent
        runTest("Zahnpasta", "Other"); // Toothpaste - no specific keyword in Household, should go to Other
        runTest("Alufolie", "Household");


        // --- Summary ---
        const summaryText = `Tests Complete. Passed: ${testsPassed}, Failed: ${testsFailed}`;
        console.log(summaryText);
        const summaryItem = document.createElement('li');
        summaryItem.style.fontWeight = 'bold';
        summaryItem.textContent = summaryText;
        resultsList.appendChild(summaryItem);

        if (testsFailed > 0) {
            document.title = `FAIL (${testsFailed}) - ${document.title}`;
            document.body.style.backgroundColor = '#ffdddd';
        } else {
            document.body.style.backgroundColor = '#ddffdd';
            document.title = `PASS - ${document.title}`;
        }
    </script>
</body>
</html>
